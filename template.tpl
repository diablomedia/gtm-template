___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Diablo Media Tag Placement",
  "categories": ["AFFILIATE_MARKETING", "ADVERTISING", "TAG_MANAGEMENT"],
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/png;base64,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\u003d\u003d"
  },
  "description": "Template for placing Diablo Media tracking tags, to be placed on offer conversion pages.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "LABEL",
    "name": "label",
    "displayName": "Please consult with your Diablo Media Account Manager to request the correct values for your offer."
  },
  {
    "type": "SELECT",
    "name": "domain",
    "displayName": "Domain",
    "macrosInSelect": false,
    "selectItems": [
      {
        "value": "z52x.com",
        "displayValue": "z52x.com"
      },
      {
        "value": "rj0a.com",
        "displayValue": "rj0a.com"
      },
      {
        "value": "x5j7.com",
        "displayValue": "x5j7.com"
      },
      {
        "value": "o0qh.com",
        "displayValue": "o0qh.com"
      },
      {
        "value": "j52t.com",
        "displayValue": "j52t.com"
      },
      {
        "value": "c8ae.com",
        "displayValue": "c8ae.com"
      },
      {
        "value": "z5aa.com",
        "displayValue": "z5aa.com"
      },
      {
        "value": "h0on.com",
        "displayValue": "h0on.com"
      },
      {
        "value": "x8vp.com",
        "displayValue": "x8vp.com"
      },
      {
        "value": "u42a.com",
        "displayValue": "u42a.com"
      },
      {
        "value": "g37n.com",
        "displayValue": "g37n.com"
      },
      {
        "value": "uq1k.com",
        "displayValue": "uq1k.com"
      },
      {
        "value": "f3y1.com",
        "displayValue": "f3y1.com"
      },
      {
        "value": "b9u7.com",
        "displayValue": "b9u7.com"
      },
      {
        "value": "b31e.com",
        "displayValue": "b31e.com"
      },
      {
        "value": "h7fn.com",
        "displayValue": "h7fn.com"
      },
      {
        "value": "vqz0.com",
        "displayValue": "vqz0.com"
      },
      {
        "value": "v42p.com",
        "displayValue": "v42p.com"
      },
      {
        "value": "vd9h.com",
        "displayValue": "vd9h.com"
      },
      {
        "value": "lo4c.com",
        "displayValue": "lo4c.com"
      }
    ],
    "simpleValueType": true,
    "notSetText": "Please select",
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "campaignId",
    "displayName": "Campaign ID",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "POSITIVE_NUMBER"
      },
      {
        "type": "NON_EMPTY"
      }
    ],
    "valueHint": "1234"
  },
  {
    "type": "TEXT",
    "name": "optionalData",
    "displayName": "(Optional) Unique ID",
    "simpleValueType": true,
    "help": "Optional custom data, such as your internal tracking ID"
  },
  {
    "type": "TEXT",
    "name": "saleAmount",
    "displayName": "(RevShare Only) Sale Amount",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "REGEX",
        "args": [
          "^[0-9\\.]+$"
        ]
      }
    ],
    "help": "A dollar amount. Only relevant for RevShare campaigns.",
    "valueUnit": "USD"
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

// require relevant API
const sendPixel = require('sendPixel');
const encodeUriComponent = require('encodeUriComponent');

// capture values of template fields
const domain = data.domain;
const campaign = data.campaignId;
const optionalData = data.optionalData;
const saleAmount = data.saleAmount;

// fire the pixel
const url = 'https://' + 
      domain + 
      '/pixel/' + 
      encodeUriComponent(campaign) + 
      '/' + (optionalData ? (encodeUriComponent(optionalData)) : '') +
      '/' + (saleAmount ? (encodeUriComponent(saleAmount)) : '');

sendPixel(url, data.gtmOnSuccess, data.gtmOnFailure);


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "send_pixel",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://z52x.com/pixel/*"
              },
              {
                "type": 1,
                "string": "https://rj0a.com/pixel/*"
              },
              {
                "type": 1,
                "string": "https://x5j7.com/pixel/*"
              },
              {
                "type": 1,
                "string": "https://o0qh.com/pixel/*"
              },
              {
                "type": 1,
                "string": "https://j52t.com/pixel/*"
              },
              {
                "type": 1,
                "string": "https://c8ae.com/pixel/*"
              },
              {
                "type": 1,
                "string": "https://z5aa.com/pixel/*"
              },
              {
                "type": 1,
                "string": "https://h0on.com/pixel/*"
              },
              {
                "type": 1,
                "string": "https://x8vp.com/pixel/*"
              },
              {
                "type": 1,
                "string": "https://u42a.com/pixel/*"
              },
              {
                "type": 1,
                "string": "https://g37n.com/pixel/*"
              },
              {
                "type": 1,
                "string": "https://uq1k.com/pixel/*"
              },
              {
                "type": 1,
                "string": "https://f3y1.com/pixel/*"
              },
              {
                "type": 1,
                "string": "https://b9u7.com/pixel/*"
              },
              {
                "type": 1,
                "string": "https://b31e.com/pixel/*"
              },
              {
                "type": 1,
                "string": "https://h7fn.com/pixel/*"
              },
              {
                "type": 1,
                "string": "https://vqz0.com/pixel/*"
              },
              {
                "type": 1,
                "string": "https://v42p.com/pixel/*"
              },
              {
                "type": 1,
                "string": "https://vd9h.com/pixel/*"
              },
              {
                "type": 1,
                "string": "https://lo4c.com/pixel/*"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios:
- name: TestEmptyOptionalData
  code: "const queryPermission = require('queryPermission');\n\nconst mockData = {\n\
    \  'domain': 'z52x.com',\n  'campaignId': '1',\n  'optionalData': '',\n  'saleAmount':\
    \ ''\n};\n\nmock('sendPixel', function(url, onSuccess, onFailure) {\n    assertThat(url).isEqualTo('https://z52x.com/pixel/1//');\n\
    \tassertThat(queryPermission('send_pixel', url)).isTrue();\n    onSuccess();\n\
    });\n\nrunCode(mockData);\n\nassertApi('sendPixel').wasCalled();\nassertApi('gtmOnSuccess').wasCalled();"
- name: TestEmptyOptionalDataWithSaleAmount
  code: "const queryPermission = require('queryPermission');\n\nconst mockData = {\n\
    \  'domain': 'z52x.com',\n  'campaignId': '1',\n  'optionalData': '',\n  'saleAmount':\
    \ '25.00'\n};\n\nmock('sendPixel', function(url, onSuccess, onFailure) {\n   \
    \ assertThat(url).isEqualTo('https://z52x.com/pixel/1//25.00');\n\tassertThat(queryPermission('send_pixel',\
    \ url)).isTrue();\n    onSuccess();\n});\n\nrunCode(mockData);\n\nassertApi('sendPixel').wasCalled();\n\
    assertApi('gtmOnSuccess').wasCalled();"
- name: TestOptionalDataWithEmptySaleAmount
  code: "const queryPermission = require('queryPermission');\n\nconst mockData = {\n\
    \  'domain': 'z52x.com',\n  'campaignId': '1',\n  'optionalData': 'adoptinfo',\n\
    \  'saleAmount': ''\n};\n\nmock('sendPixel', function(url, onSuccess, onFailure)\
    \ {\n    assertThat(url).isEqualTo('https://z52x.com/pixel/1/adoptinfo/');\n\t\
    assertThat(queryPermission('send_pixel', url)).isTrue();\n    onSuccess();\n});\n\
    \nrunCode(mockData);\n\nassertApi('sendPixel').wasCalled();\nassertApi('gtmOnSuccess').wasCalled();"
- name: TestAllValuesPopulated
  code: "const queryPermission = require('queryPermission');\n\nconst mockData = {\n\
    \  'domain': 'z52x.com',\n  'campaignId': '1',\n  'optionalData': 'adoptinfo',\n\
    \  'saleAmount': '25.00'\n};\n\nmock('sendPixel', function(url, onSuccess, onFailure)\
    \ {\n    assertThat(url).isEqualTo('https://z52x.com/pixel/1/adoptinfo/25.00');\n\
    \tassertThat(queryPermission('send_pixel', url)).isTrue();\n    onSuccess();\n\
    });\n\nrunCode(mockData);\n\nassertApi('sendPixel').wasCalled();\nassertApi('gtmOnSuccess').wasCalled();"
- name: TestOptionalValuesAreUriEncoded
  code: "const queryPermission = require('queryPermission');\n\nconst mockData = {\n\
    \  'domain': 'z52x.com',\n  'campaignId': '1',\n  'optionalData': 'ad/opt/info',\n\
    \  'saleAmount': '25/00'\n};\n\nmock('sendPixel', function(url, onSuccess, onFailure)\
    \ {\n    assertThat(url).isEqualTo('https://z52x.com/pixel/1/ad%2Fopt%2Finfo/25%2F00');\n\
    \tassertThat(queryPermission('send_pixel', url)).isTrue();\n    onSuccess();\n\
    });\n\nrunCode(mockData);\n\nassertApi('sendPixel').wasCalled();\nassertApi('gtmOnSuccess').wasCalled();"
- name: TestUnknownDomainNameIsNotPermitted
  code: "const queryPermission = require('queryPermission');\n\nconst mockData = {\n\
    \  'domain': 'unknown.com',\n  'campaignId': '1',\n  'optionalData': '',\n  'saleAmount':\
    \ ''\n};\n\nmock('sendPixel', function(url, onSuccess, onFailure) {\n    assertThat(url).isEqualTo('https://unknown.com/pixel/1//');\n\
    \tassertThat(queryPermission('send_pixel', url)).isFalse();\n    onFailure();\n\
    });\n\nrunCode(mockData);\n\nassertApi('sendPixel').wasCalled();\nassertApi('gtmOnFailure').wasCalled();"
- name: TestAllKnownDomainsArePermitted
  code: |-
    const queryPermission = require('queryPermission');

    // TODO: Possible to query this from the pulldown field's defined values?
    const domains = [
      'z52x.com',
      'rj0a.com',
      'x5j7.com',
      'o0qh.com',
      'j52t.com',
      'c8ae.com',
      'z5aa.com',
      'h0on.com',
      'x8vp.com',
      'u42a.com',
      'g37n.com',
      'uq1k.com',
      'f3y1.com',
      'b9u7.com',
      'b31e.com',
      'h7fn.com',
      'vqz0.com',
      'v42p.com',
      'vd9h.com',
      'lo4c.com'
    ];

    var assertionCounts = 0;

    mock('sendPixel', function(url, onSuccess, onFailure) {
      assertThat(queryPermission('send_pixel', url)).isTrue();
      assertionCounts++;
      onSuccess();
    });

    for (var i = 0; i < domains.length; i++) {
      var mockData = {
        'domain': domains[i],
        'campaignId': '1'
      };

      runCode(mockData);
    }

    // Assure our per-domain assertions were actually ran
    assertThat(assertionCounts).isEqualTo(domains.length);
    assertApi('sendPixel').wasCalled();
    assertApi('gtmOnSuccess').wasCalled();
- name: TestCampaignIdIsUriEncoded
  code: "// This shouldn't be possible due to the numeric validation in the field\
    \ definition,\n// but testing anyway\n\nconst queryPermission = require('queryPermission');\n\
    \nconst mockData = {\n  'domain': 'z52x.com',\n  'campaignId': '1001/1002'\n};\n\
    \nmock('sendPixel', function(url, onSuccess, onFailure) {\n    assertThat(url).isEqualTo('https://z52x.com/pixel/1001%2F1002//');\n\
    \tassertThat(queryPermission('send_pixel', url)).isTrue();\n    onSuccess();\n\
    });\n\nrunCode(mockData);\n\nassertApi('sendPixel').wasCalled();\nassertApi('gtmOnSuccess').wasCalled();"
setup: ''


___NOTES___

Created on 1/31/2020, 1:16:39 PM


